var baseSlice = require('./baseSlice');

/**
 * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,
 * and `_.takeWhile` without support for callback shorthands and `this` binding.
 *
 * @private
 * @param {Array} array The array to query.
 * @param {Function} predicate The function invoked per iteration.
 * @param {boolean} [isDrop] Specify dropping elements instead of taking them.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Array} Returns the slice of `array`.
 */
function baseWhile(array, predicate, isDrop, fromRight) {
  var length = array.length,
      index = fromRight ? length : -1;

  while ((fromRight ? i-- : ++i < length) && predicate(array[i], i, array)) {}
  return isDrop
    ? baseSlice(array, (fromRight ? 0 : i), (fromRight ? i + 1 : length))
    : baseSlice(array, (fromRight ? i + 1 : 0), (fromRight ? length : i));
}

module.exports = baseWhile;
